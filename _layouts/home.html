---
layout: default
title: home
---

{% for work in site.works %}
<article class="work closed" style="background-color: {{ work.cor_principal }}">
    <h3>{{ work.title }}</h3>
    <div class="work-container">
        <div class="work-left">
            <h4>{{ work.ano }}</h4>
            <h4>{{ work.category }}</h4>
            <p>{{ work.description }}</p>
            <a href="{{ work.link }}">{{ work.linkname }}</a>
        </div>
        <div class="work-right" style="background-color: {{ work.cor_secundaria }}">
            <ul>
                {% for image in work.images %}
                <li><img class="lazy" src="{{ image | relative_url }}"></li>
                {% endfor %}
            </ul>
        </div>
    </div>
</article>
{% endfor %}


<script>
    var $ = jQuery.noConflict();
    $(document).ready(function() {
        $('.work h3').on('click', function() {
            if ($(this).parent().hasClass('closed')) {
                $(this).on('mouseleave', function() {
                    $(this).unbind('mouseleave');
                });
                $(this).parent().addClass("work-open");
                // show image and info
                var workall = $(this).parent().find('.work-container');
                var time = 60;
                workall.slideToggle(time, function() {
                    if ($(this).is(':visible'))
                        $(this).css('display', 'flex');
                });
                // close every other list item
                $('.work-container').not(workall).hide(time / 2).delay(30).removeClass("work-open");
            } else if ($(this).parent().hasClass('work-open')) {
//                $('.work').removeClass("work-open");
            }
        });
        

        $('.work-right').each(function() {
            $(this).mousedown(function() {
                $(this).find('ul').animate({
                    scrollRight: '+=500'
                }, 100);
                setTimeout(function() {
                    $(this).animate({
                        scrollLeft: '0'
                    }, 100)
                }, 8000);
            });
        })

    });

</script>
